# --- Identity ---
realm=turn.sigdep.cloud
server-name=turn.sigdep.cloud

# --- Authentication (The Magic Combo) ---
# use-auth-secret enables the REST API auth Nextcloud needs
use-auth-secret
static-auth-secret=Hb9Yrma15rGVymELPUpTdABzlme4jVyVzUYiUztmc1FR4vqtzfxICHTsVmC1mEXJ

# --- Networking ---
listening-port=3478
tls-listening-port=5349
listening-ip=0.0.0.0
relay-ip=0.0.0.0
# REPLACE 'ip' with your actual public IP (e.g., 1.2.3.4)
external-ip=172.237.133.178

# --- WebRTC Optimization ---
fingerprint
lt-cred-mech
no-multicast-peers

# Port range for media packets (UDP)
min-port=49152
max-port=65535

# --- TLS Certificates ---
cert=/etc/coturn/certs/turn.sigdep.cloud_ecc/fullchain.cer
pkey=/etc/coturn/certs/turn.sigdep.cloud_ecc/turn.sigdep.cloud.key

# Modern Security
no-tlsv1
no-tlsv11
cipher-list="ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384"

# --- Performance Logging ---
log-file=/var/log/turnserver.log
simple-log
no-stdout-log
